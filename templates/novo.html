{% extends "base.html" %}
{% from _self import number, text, date %}
{% macro number(name, label) -%}
<div class="col-md-3">
  <label class="form-label">{{ label }}</label>
  <input name="{{ name }}" type="text" class="form-control" value="{{ request.form.get(name, '') }}">
</div>
{%- endmacro %}

{% macro text(name, label, cols=3) -%}
<div class="col-md-{{ cols }}">
  <label class="form-label">{{ label }}</label>
  <input name="{{ name }}" type="text" class="form-control" value="{{ request.form.get(name, '') }}">
</div>
{%- endmacro %}

{% macro date(name, label) -%}
<div class="col-md-3">
  <label class="form-label">{{ label }}</label>
  <input name="{{ name }}" type="date" class="form-control" value="{{ request.form.get(name, '') }}">
</div>
{%- endmacro %}

{% block content %}
<h1 class="h4 mb-3">Novo contrato</h1>
<form method="post" class="row g-3">
  {{ text('contrato','Contrato',3) }}
  {{ text('cooperado','Cooperado',3) }}
  {{ text('cpf','CPF',3) }}
  {{ text('advogado','Advogado',3) }}
  {{ text('tipo','Tipo',3) }}
  {{ text('garantia','Garantia',3) }}

  {{ number('valor','Valor do contrato no sistema') }}
  {{ text('baixa_48m','Baixa acima de 48 meses') }}
  {{ number('valor_abatido','Valor abatido no contrato') }}
  {{ number('ganho','Ganho') }}

  {{ number('custas','Custas') }}
  {{ number('custas_deduzidas','Custas deduzidas') }}
  {{ number('protesto','Protesto') }}
  {{ number('protesto_deduzido','Protesto deduzido') }}
  {{ number('honorario','Honorário') }}
  {{ number('honorario_repassado','Honorário repassado') }}
  {{ number('alvara','Alvará') }}
  {{ number('alvara_recebido','Alvará recebido') }}

  {{ number('valor_entrada','Valor de entrada') }}
  {{ date('vencimento_entrada','Vencimento entrada') }}
  {{ number('valor_parcelas','Valor das parcelas') }}
  {{ text('parcelas','Parcelas') }}
  {{ text('parcelas_restantes','Parcelas restantes') }}
  {{ text('vencimento_parcelas_dia','Vencimento das parcelas (dia)') }}

  {{ text('qtd_boletos_emitidos','Quantidade boletos emitidos') }}
  {{ number('valor_pg_boleto','Valor pg com boleto') }}
  {{ date('data_pg_boleto','Data pg boleto') }}
  {{ date('data_baixa','Data da baixa') }}

  <div class="col-12">
    <label class="form-label">Obs contabilidade</label>
    <textarea name="obs_contabilidade" class="form-control" rows="2">{{ request.form.get('obs_contabilidade', '') }}</textarea>
  </div>
  <div class="col-12">
    <label class="form-label">Obs contas a receber</label>
    <textarea name="obs_contas_receber" class="form-control" rows="2">{{ request.form.get('obs_contas_receber', '') }}</textarea>
  </div>

  {{ number('valor_repassar_escritorio','Valor a repassar p/ escritório (honorários)') }}

  <div class="col-12">
    <button class="btn btn-success">Salvar</button>
    <a href="{{ url_for('index') }}" class="btn btn-secondary">Voltar</a>
  </div>
</form>
{% endblock %}
